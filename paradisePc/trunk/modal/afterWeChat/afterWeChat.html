<div class="afterWeChat-wrapper">
    <div class="modal-header">
        <div class="pointer header-left" ng-class="{'active':vm.haveAccount}" ng-click="vm.changeTab(1)">
            <div class="header-text pointer">已有帐号绑定</div>
        </div>
        <div class="pointer header-right" ng-class="{'active':!vm.haveAccount}" ng-click="vm.changeTab(2)">
            <div class="header-text pointer">新账号</div>
            <div class="close-model" ng-click="vm.cancel()"><img ng-if="vm.haveAccount" src="images/remove3.jpg" alt="">
                <img ng-if="!vm.haveAccount" src="images/remove.jpg" alt=""></div>
        </div>
    </div>
    <div class="modal-body" id="modal-body">
		<form name="login" novalidate>
        <div class="title" ng-if="vm.haveAccount">
            <img ng-src="{{vm.headImgUrl}}" alt="">
            <div>Hi，欢迎来到逗你学</div>
            <div>完成绑定后可以用微信一键登录哦~</div>
        </div>



        <div class="left" ng-if="vm.haveAccount">账号</div>
        <div class="account register-row" ng-if="vm.haveAccount">

            	<div class="center">
            	<input ng-model="vm.name" ng-focus="vm.focusName()" ng-blur="vm.checkName(login.name.$invalid)" ng-class="{'red-border':(login.name.$invalid||vm.checkNameResult)&&(login.name.$touched||login.$submitted)}" placeholder="手机号码/邮箱" class="form-control" 	type="text" name="name" required ng-pattern="/(^1[34578]\d{9}$)|(^([A-Za-z0-9_\-\.])+\@([	A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$)/" onkeyup="this.value=this.value.replace(' ','')">

            </div>

        </div>


        <div class="left" ng-if="vm.haveAccount">密码</div>
        <div class="password register-row" ng-if="vm.haveAccount">
            <div class="center">
                <input ng-model="vm.password" maxlength="16" ng-class="{'red-border':login.password.$invalid&&(login.password.$touched||login.$submitted)}" placeholder="密码" class="form-control" type="password" name="password" required ng-pattern="/^[0-9a-zA-Z]{6,16}$/" onkeyup="this.value=this.value.replace(' ','')">

            </div>
        </div>
        <div class="forget register-row" ng-if="vm.haveAccount">
            <div class="left"></div>
            <div class="center"><span class="font-blue pointer" ng-click="vm.forgetPassword()">忘记密码？</span></div>
            <!-- <div class="right"></div> -->
        </div>


        <div class="left" ng-if="vm.haveAccount">图形验证码</div>
        <div class="image-code register-row" ng-if="vm.haveAccount">

            <div class="center">
                <input type="text"  ng-change="vm.checkImage(!login.image.$invalid)" ng-model="vm.imageCode" name="image" ng-class="{'red-border':(!vm.checkImageResult||login.image.$invalid)&&(login.image.$touched||login.$submitted)}" required class="form-control" placeholder="请输入右侧验证码">
                <!-- <img src="images/videoTest2.jpg" alt=""> -->
                <img style="-webkit-user-select: none;border: 1px solid #ddd;border-radius: 5px;" class="message Captchae " title="" id="imageCode" onclick="this.src = '/a/captcha/generate?'+new Date().getTime()" src="/a/captcha/generate">

            </div>
            <!-- <div class="right"></div> -->
        </div>

        <div class="button-wrapper register-row" ng-if="vm.haveAccount">
            <div class="left"></div>
            <div class="center">
                <button class="btn" ng-click="vm.doubleClick||vm.bindAccount((!login.$invalid)&&vm.checkImageResult&&!vm.checkNameResult)">立即绑定</button>
            </div>
            <div class="right"></div>
        </div>
        </form>
 <!-- //下面是验证信息 -->
            <!-- 账号 -->
        <div class="error-box" ng-messages="login.name.$error" ng-if="  login.name.$touched||login.$submitted">
                <p ng-message="required">账号不能为空</p>
                <p ng-message="pattern">帐号格式错误，请输入邮箱或11位手机号</p>
                </div>
                <div class="error-box" ng-if="(!login.name.$invalid)&&(vm.checkNameResult)">
                    <p ng-bind="vm.bindMessage"></p>
                </div>
                <div class="error-box" ng-if="vm.showError">
                    <p ng-bind="vm.errorMessage"></p>
                </div>

            <!-- 下面是密码 -->
                <div class="error-box" ng-messages="login.password.$error" ng-if="login.password.$touched||login.$submitted">
                    <p ng-message="required">密码不能为空</p>
                    <p ng-message="pattern" class="mg-right--5">密码格式错误，请输入由字母或数字组成的6-16位密码</p>
                </div>

             <!-- 图形验证码 -->
             <div class="error-box" ng-messages="login.image.$error" ng-if="login.image.$touched||login.$submitted">
                    <p ng-message="required">图形验证码不能为空</p>
                </div>
                <div class="error-box" ng-if="(!login.image.$invalid)&&(!vm.checkImageResult)">
                <p>图形验证码错误</p>
                </div>
 <!-- 上面是验证信息 -->




















<!-- 下面是新账号 -->


        <form name="register" novalidate>
        <div class="title title2" ng-if="!vm.haveAccount">
            <img ng-src="{{vm.headImgUrl}}" alt="">
           <div>Hi，欢迎来到逗你学</div>
            <div>完成绑定后可以用微信一键登录哦~</div>
        </div>
         <div class="left" ng-if="!vm.haveAccount">账号</div>
        <div class="account register-row" ng-if="!vm.haveAccount">

            <div class="center">
                <input ng-model="vm.name2" ng-focus="vm.focusName2()"  ng-change="vm.nameChange=true" ng-class="{'red-border':(vm.checkName2Result||register.name.$invalid)&&(register.name.$touched||vm.codeButton||vm.registerButton)}" placeholder="手机号码/邮箱" class="form-control" type="text" name="name" required ng-pattern="/(^1[34578]\d{9}$)|(^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$)/" onkeyup="this.value=this.value.replace(' ','')">
                <div class="error-box" ng-messages="register.name.$error" ng-if="register.name.$touched||vm.codeButton||vm.registerButton">
                	<p ng-message="required">账号不能为空</p>
                	<p ng-message="pattern">帐号格式错误，请输入邮箱或11位手机号</p>
                </div>
                <div class="error-box" ng-if="(!register.name.$invalid)&&(vm.checkName2Result)">
                	<p>该账号已被注册</p>
                </div>

            </div>
            <!-- <div class="right"></div> -->
        </div>


                <div class="left" ng-if="!vm.haveAccount">密码</div>
        <div class="password register-row" ng-if="!vm.haveAccount">
            <div class="center">
                <input ng-model="vm.password" maxlength="16" ng-class="{'red-border':login.password.$invalid&&(login.password.$touched||login.$submitted)}" placeholder="密码" class="form-control" type="password" name="password" required ng-pattern="/^[0-9a-zA-Z]{6,16}$/" onkeyup="this.value=this.value.replace(' ','')">

            </div>
        </div>

        <div class="left" ng-if="!vm.haveAccount">图形验证码</div>
		<div class="image-code image-code-new register-row" ng-if="!vm.haveAccount">

		    <div class="center">
		    <input type="text"  maxlength="4"  ng-change="vm.checkImage2(!register.image.$invalid)" ng-model="vm.imageCode2" name="image" ng-class="{'red-border':((!vm.checkImage2Result)||register.image.$invalid)&&(register.image.$touched||vm.codeButton||vm.registerButton)}" required class="form-control" placeholder="请输入右侧验证码">
		    <!-- <img src="images/videoTest2.jpg" alt=""> -->
            <img style="-webkit-user-select: none;border: 1px solid #ddd;border-radius: 5px;" class="message Captchae " title="" id="imageCode2" onclick="this.src = '/a/captcha/generate?'+new Date().getTime()" src="/a/captcha/generate">
		    <div class="error-box" ng-messages="register.image.$error" ng-if="register.image.$touched||vm.codeButton||vm.registerButton">
		    	<p ng-message="required">图形验证码不能为空</p>
		    </div>
		    <div class="error-box" ng-if="(!register.image.$invalid)&&(!vm.checkImage2Result)">
		    <p>图形验证码错误</p>
		    </div>
		    </div>
		    <!-- <div class="right"></div> -->
		</div>


        <div class="left" ng-if="!vm.haveAccount">验证码</div>
        <div class="phone-code phone-code-new register-row" ng-if="!vm.haveAccount">

            <div class="center">
                <input type="text" maxlength="6" ng-focus="vm.errorMessage2=false" ng-model="vm.code" name="code" ng-class="{'red-border':(register.code.$invalid)&&(register.code.$touched||vm.registerButton)}" required  class="form-control" placeholder="请输入收到的验证码" ng-pattern="/^\d{6}$/">
                <!-- (!register.image.$invalid)&&(vm.checkImageResult)&&(!register.name.$invalid)&&(!vm.checkNameResult) -->
                <button ng-click="vm.getCode((!register.image.$invalid)&&(vm.checkImage2Result)&&(!register.name.$invalid))" class="btn" ng-show="!vm.getcode" ng-bind="vm.getTips">获取验证码</button>

                <button style="background: #EBEBEB;color: #555555;padding: 0" type="button" class="btn btn-default btn-lg active" ng-show="vm.getcode" ng-bind="vm.time" ng-disabled="vm.canClick" ></button>
                <div class="error-box" ng-messages="register.code.$error" ng-if="register.code.$touched||vm.registerButton">
                	<p ng-message="required">验证码不能为空</p>
                    <p ng-message="pattern">请输入6位数字验证码</p>
                </div>
                <div class="error-box" ng-if="(!register.code.$invalid)&&(!vm.checkCodeResult)">
                <p>验证码错误</p>
                </div>
                <div class="error-box" ng-if="vm.showError2">
                    <p ng-bind="vm.errorMessage2"></p>
                </div>
            </div>
            <!-- <div class="right"></div> -->
        </div>
        <div class="register-row voice" ng-if="!vm.haveAccount" >
            <!-- <div class="left"></div> -->
            <div class="center" ng-if="vm.name2>0 && vm.voice && !vm.nameChange">收不到短信？试试<span class="font-blue pointer" ng-click="vm.canClickVoice || vm.getVoice((!register.image.$invalid)&&(vm.checkImage2Result)&&(!register.name.$invalid)&&(!vm.checkName2Result))">语音验证</span></div>
            <!-- <div class="right"></div> -->
        </div>


         <div class="left" ng-if="!vm.haveAccount">设置登录密码</div>
		<div class="password password-new register-row" ng-if="!vm.haveAccount">

		    <div class="center">
		        <input ng-model="vm.password2" maxlength="16" ng-class="{'red-border':register.password.$invalid&&(register.password.$touched||vm.registerButton)}" placeholder="密码" class="form-control" type="password" name="password" required ng-pattern="/^[0-9a-zA-Z]{6,16}$/" onkeyup="this.value=this.value.replace(' ','')">
		        <div class="error-box" ng-messages="register.password.$error" ng-if="register.password.$touched||vm.registerButton">
		        	<p ng-message="required">密码不能为空</p>
		        	<p ng-message="pattern" class="mg-right--5">密码格式错误，请输入由字母或数字组成的6-16位密码</p>
		        </div>
		    </div>
		    <!-- <div class="right"></div> -->
		</div>

        <div class="button-wrapper register-row" ng-if="!vm.haveAccount">
            <div class="left"></div>
            <div class="center">
                <button class="btn" ng-click="vm.doubleClick||vm.register(!register.$invalid)">立即绑定</button>
            </div>
            <div class="right"></div>
        </div>


        </form>
    </div>
    <!-- <div agreement></div> -->
</div>